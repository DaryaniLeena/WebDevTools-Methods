(this["webpackJsonpmovie-search-app"]=this["webpackJsonpmovie-search-app"]||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),r=n.n(i),s=n(17),a=n.n(s),o=n(6),j=(n(24),n(2)),u=n(3),d=(n(25),n(4)),l="https://image.tmdb.org/t/p/w300",b=function(e){return fetch("/watchlist/".concat(e),{method:"GET",headers:new Headers({"content-type":"application/json"})}).catch((function(){return Promise.reject({code:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},h=(n(26),{"network-error":"Status: There was a problem connecting to the network, try again","bad-login":"Status: Bad-login: This value is not allowed","login-required":"Status: User must login","session-invalid":"This user session is not valid. Please login again.","content-not-found":"You dont have movies in your watchlist"}),m=function(e){var t=e.props,n=e.uid,r=e.withWatchListButton,s=e.watchlist,a=e.updatewatchlist,j=t.element,d=j.title,m=j.vote_average,O=j.poster_path,v=j.id,p=Object(i.useState)([]),g=Object(u.a)(p,2),f=g[0],x=g[1],I=Object(i.useState)(""),C=Object(u.a)(I,2),E=(C[0],C[1]),Q=t.element.genre_ids;Object(i.useEffect)((function(){fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=ea64de9bddd08b946b34a41ba227ce72&language=en-US",{method:"GET",headers:new Headers({"content-type":"application/json"})}).catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){x(e.genres),E("")})).catch((function(e){return E(e.status_message)}))}),[]);var B="";Q&&(B=Q.map((function(e){var t=f.find((function(t){return t.id===e}));return t?t.name:null})).join(", "));return Object(c.jsxs)("div",{className:"cardStyle",children:[Object(c.jsx)(o.b,{to:"/movies/".concat(v),children:Object(c.jsx)("img",{className:"imgHeight",src:O?l+O:"data:image/png;base64,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",alt:d})}),Object(c.jsxs)("div",{className:"movie-detail",children:[Object(c.jsx)("div",{className:"title-style",children:d}),Object(c.jsxs)("div",{className:"rating-style",children:[" ",m]}),Object(c.jsx)("div",{children:B}),r&&Object(c.jsx)("button",{className:"remove-watchlist",onClick:function(){var e,t;console.log(n),(e=n,t=v,fetch("/watchlist/".concat(e,"/").concat(t),{method:"DELETE"}).catch((function(){return Promise.reject({code:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))).then((function(e){E("")})).catch((function(e){E(h[e.error])})),b(n).then((function(e){e?(s.current=e,a(s.current.movies),E("")):E("No data in watchlist")})).catch((function(e){return E(e.error)}))},children:"Remove"})]})]},v)},O=function(e){var t=e.movieType,n=e.uid,r=Object(i.useRef)([]),s=Object(i.useState)([]),a=Object(u.a)(s,2),o=a[0],j=a[1],d=Object(i.useState)(""),l=Object(u.a)(d,2),b=(l[0],l[1]);Object(i.useEffect)((function(){(function(e){return fetch("https://api.themoviedb.org/3/movie/"+e+"?api_key=ea64de9bddd08b946b34a41ba227ce72&language=en-US&page=1",{method:"GET",headers:new Headers({"content-type":"application/json"})}).catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject({error:"error-getting-movie"})}))}))})(t).then((function(e){r.current=e,h(r.current.results),b("")})).catch((function(e){return b(e.status_message)}))}),[t]);var h=Object(i.useCallback)((function(e){j(e.map((function(e){return Object(c.jsx)(m,{props:{element:e},uid:n},e.id)})))}));return Object(c.jsx)("div",{className:"movie-container",children:o})},v=(n(32),function(){return Object(c.jsxs)("ul",{class:"navigation",children:[Object(c.jsx)("li",{children:Object(c.jsx)(o.c,{activeClassName:"selected",to:"/movies",children:"Popular"})}),Object(c.jsx)("li",{children:Object(c.jsx)(o.c,{activeClassName:"selected",to:"/topRatedMovie",children:"Top Rated"})}),Object(c.jsx)("li",{children:Object(c.jsx)(o.c,{activeClassName:"selected",to:"/nowPlayingMovie",children:"Now Playing"})}),Object(c.jsx)("li",{children:Object(c.jsx)(o.c,{activeClassName:"selected",to:"/upcomingMovie",children:"Upcoming"})})]})}),p=(n(33),function(e){var t=e.props,n=Object(i.useState)(""),r=Object(u.a)(n,2),s=r[0],a=r[1],o=Object(i.useState)(!0),j=Object(u.a)(o,2),l=j[0],b=j[1],m=Object(i.useState)(""),O=Object(u.a)(m,2),v=O[0],p=O[1],g=Object(d.g)();Object(i.useEffect)((function(){fetch("/session",{method:"GET"}).catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){t.makeStatusLoggedIn(!0)})).catch((function(e){t.makeStatusLoggedIn(!1)}))}),[]);return Object(c.jsx)("div",{className:"login-ui",children:Object(c.jsx)("div",{className:"login-container",children:Object(c.jsxs)("div",{className:"login-component",children:[Object(c.jsx)("h1",{children:"Login"}),Object(c.jsx)("div",{children:Object(c.jsxs)("label",{children:["UserName:",Object(c.jsx)("input",{className:"user-login-name",onChange:function(e){a(e.target.value),b(!e.target.value)},value:s})]})}),Object(c.jsx)("div",{className:"error-message",children:v}),Object(c.jsx)("div",{className:"login-button",children:Object(c.jsx)("button",{className:"login",onClick:function(){(function(e){var t=e.username;return fetch("/session",{method:"POST",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({username:t})}).catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))})({username:s}).then((function(e){e.uid;t.onLogin({username:s,uid:e.uid}),g.push("/"),p("")})).catch((function(e){p(h[e.error]),console.log("error this side")}))},disabled:l,children:"Login"})})]})})})});var g=function(e){var t=e.props,n=Object(d.g)();return Object(c.jsx)("div",{children:(t.performLogout(),void n.push("/"))})},f=n.p+"static/media/reactLogo.e1d936f2.png",x=function(e){var t=e.movieDetail,n=e.uid,r=Object(i.useState)(!1),s=Object(u.a)(r,2),a=s[0],o=s[1],j=Object(i.useState)([]),d=Object(u.a)(j,2),l=d[0],h=d[1],m=Object(i.useState)(""),O=Object(u.a)(m,2),v=O[0],p=O[1];Object(i.useEffect)((function(){n&&b(n).then((function(e){h(e.movies),n&&l.some((function(e){return e.id===t.id}))&&o(!0)})).catch((function(e){o(!1)}))}),[t]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{disabled:a,className:"watchlistButton",onClick:function(){var e=l.findIndex((function(e){return e.id==t.id}));""==n?p("Please sign in to add movie to watchlist"):e>-1?p("Movie already present in watchlist"):function(e,t){return fetch("/watchlist/".concat(t),{method:"POST",body:JSON.stringify({movieDetail:e}),headers:new Headers({"content-type":"application/json"})}).catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}(t,n).then((function(e){o(!0),p("")})).catch((function(e){p("error in adding movie to watchlist")}))},id:"watchlist-btn",children:"Add To my watchlist"}),Object(c.jsx)("div",{className:"watchlist-error",children:v})]})},I=(n(34),function(e){var t=e.movieid,n=e.uid,r=Object(i.useState)({}),s=Object(u.a)(r,2),a=s[0],o=s[1],j=Object(i.useState)(""),d=Object(u.a)(j,2),b=(d[0],d[1]),h=a.budget,m=function(e){var t=Math.floor(e/60),n=e%60;return n=n<10?"0"+n:n,"".concat(t,"h ").concat(n,"m")}(a.runtime);return Object(i.useEffect)((function(){var e;(e=t,fetch("https://api.themoviedb.org/3/movie/"+e+"?api_key=ea64de9bddd08b946b34a41ba227ce72&language=en-US&page=1",{method:"GET",headers:new Headers({"content-type":"application/json"})}).catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))).then((function(e){o(e),b("")})).catch((function(e){return b(e.status_message)}))}),[]),a&&a.id===Number(t)?Object(c.jsx)("div",{className:"movie-detail-container",children:Object(c.jsxs)("div",{className:"detail-container",children:[Object(c.jsx)("div",{className:"movie-poster",children:Object(c.jsx)("img",{src:"".concat(l+a.poster_path),alt:a.title,className:"movie__img"})}),Object(c.jsxs)("div",{className:"movie-all-details",children:[Object(c.jsxs)("div",{className:"row-title",children:[Object(c.jsx)("h2",{className:"moviedetail-title",children:a.title}),Object(c.jsx)("div",{className:"rating-container",children:a.vote_average})]}),Object(c.jsx)("div",{className:"tagline",children:Object(c.jsx)("div",{children:a.tagline})}),Object(c.jsx)("div",{className:"movie__control",children:Object(c.jsx)(x,{movieDetail:a,uid:n})}),Object(c.jsx)("p",{className:"movie-overview",children:a.overview}),Object(c.jsxs)("div",{className:"genre-conatiner",children:[Object(c.jsx)("span",{children:"Genres:"}),a.genres.map((function(e){return Object(c.jsx)("span",{className:"genres-name",children:e.name},"g".concat(e.id))}))]})]}),Object(c.jsxs)("div",{className:"movie-all-details release-conatiner",children:[Object(c.jsxs)("div",{className:"release-detail",children:["Release Date:",function(e){var t=new Date(e);return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear()}(a.release_date)]}),Object(c.jsxs)("div",{className:"release-detail",children:["Duration: ",m]}),Object(c.jsxs)("div",{className:"release-detail",children:["Budget: $",h]})]})]})}):Object(c.jsx)("div",{children:"Loading...."})}),C=function(e){var t=e.message;return Object(c.jsx)("div",{children:Object(c.jsx)("span",{children:t})})},E=(n(35),function(e){var t=e.props,n=(e.uid,t.uid),r=Object(i.useRef)([]),s=Object(i.useState)([]),a=Object(u.a)(s,2),o=a[0],j=a[1],d=Object(i.useState)(""),l=Object(u.a)(d,2),O=(l[0],l[1]);Object(i.useEffect)((function(){b(n).then((function(e){e?(r.current=e,v(r.current.movies),O("")):O("You dont have movies in your watchlist")})).catch((function(e){return O(h[e.error])}))}),[]);var v=Object(i.useCallback)((function(e){j(e.map((function(e){return Object(c.jsx)(m,{props:{element:e},uid:n,withWatchListButton:!0,updatewatchlist:v,watchlist:o},e.id)})))}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"watchlist-title",children:"MY WATCHLIST"}),Object(c.jsx)("div",{children:""==o?Object(c.jsx)("div",{className:"error-mess",children:Object(c.jsx)(C,{message:"You dont have movies in your watchlist"})}):Object(c.jsx)("div",{className:"movie-container",children:o})})]})});n(36);var Q=function(){var e=Object(d.g)(),t=Object(i.useState)(""),n=Object(u.a)(t,2),r=n[0],s=n[1];return Object(c.jsx)("input",{type:"text",placeholder:"Search by movie title",onChange:function(t){var n=t.target.value;s(n),n.length>=2?e.push("/search/".concat(n)):0===n.length&&e.push("/")},value:r,className:"search-input"})},B=function(e){var t=e.query,n=e.uid,r=Object(i.useState)([]),s=Object(u.a)(r,2),a=s[0],o=s[1],j=Object(i.useState)(""),d=Object(u.a)(j,2),l=(d[0],d[1]);Object(i.useEffect)((function(){(function(e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=ea64de9bddd08b946b34a41ba227ce72&language=en-US&query="+e+"&page=1&include_adult=false",{method:"GET",headers:new Headers({"content-type":"application/json"})}).catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))})(t).then((function(e){b(e.results),l("")})).catch((function(e){return l(e.status_message)}))}),[t]);var b=Object(i.useCallback)((function(e){o(e.map((function(e){return Object(c.jsx)(m,{props:{element:e},uid:n},e.id)})))}));return Object(c.jsx)("div",{className:"movie-container",children:a})};var S=function(){var e=Object(i.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(i.useState)(""),a=Object(u.a)(s,2),l=a[0],b=a[1],m=Object(i.useState)(""),x=Object(u.a)(m,2),C=(x[0],x[1]),S=function(e){e.username;var t=e.uid;r(!0),b(t)},L=function(){fetch("/session",{method:"DELETE"}).catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(){r(!1),b("")})).catch((function(e){C(h[e.error])}))},w=function(e){r(e)};return n?Object(c.jsxs)("div",{children:[Object(c.jsxs)("header",{className:"header-style",children:[Object(c.jsxs)("span",{className:"logoSearch",children:[Object(c.jsx)("span",{children:Object(c.jsx)("img",{src:f,className:"logoStyle",alt:"xyz"})}),Object(c.jsx)("span",{children:Object(c.jsx)(Q,{className:"search-input",text_value:"mamta"})})]}),Object(c.jsx)("span",{className:"movieLogin",children:Object(c.jsxs)("nav",{children:[Object(c.jsx)(o.c,{className:"nav-tab",to:"/wishlist",children:"My Watchlist"}),Object(c.jsx)(o.c,{className:"nav-tab",to:"/movies",children:"Movie"}),Object(c.jsx)(o.c,{className:"nav-tab",to:"/logout",children:"Logout"})]})})]}),Object(c.jsx)("div",{children:Object(c.jsx)(v,{})}),Object(c.jsx)("div",{children:Object(c.jsxs)(d.d,{children:[Object(c.jsx)(d.b,{path:"/topRatedMovie",render:function(e){return Object(c.jsx)(O,Object(j.a)(Object(j.a)({},e),{},{movieType:"top_rated",uid:l}))}}),Object(c.jsx)(d.b,{path:"/nowPlayingMovie",render:function(e){return Object(c.jsx)(O,Object(j.a)(Object(j.a)({},e),{},{movieType:"now_playing",uid:l}))}}),Object(c.jsx)(d.b,{path:"/upcomingMovie",render:function(e){return Object(c.jsx)(O,Object(j.a)(Object(j.a)({},e),{},{movieType:"upcoming",uid:l}))}}),Object(c.jsx)(d.b,{path:"/movies/:movieid",render:function(e){var t=e.match.params.movieid;return console.log(t),Object(c.jsx)(I,Object(j.a)(Object(j.a)({},e),{},{movieid:t,uid:l}))}}),Object(c.jsx)(d.b,{path:"/movies",render:function(e){return Object(c.jsx)(O,Object(j.a)(Object(j.a)({},e),{},{movieType:"popular",uid:l}))}}),Object(c.jsx)(d.b,{path:"/search/:query",render:function(e){var t=e.match.params.query;return Object(c.jsx)(B,Object(j.a)(Object(j.a)({},e),{},{query:t,uid:l,className:"search-input"}))}}),Object(c.jsx)(d.b,{path:"/wishlist",render:function(e){return Object(c.jsx)(E,Object(j.a)(Object(j.a)({},e),{},{props:{uid:l}}))}}),Object(c.jsx)(d.b,{path:"/logout",render:function(e){return Object(c.jsx)(g,Object(j.a)(Object(j.a)({},e),{},{props:{performLogout:L}}))}}),Object(c.jsx)(d.a,{from:"/",exact:!0,to:"/movies",component:O}),Object(c.jsx)(d.a,{to:"/not-found"})]})})]}):Object(c.jsxs)("div",{children:[Object(c.jsxs)("header",{className:"header-style",children:[Object(c.jsxs)("span",{className:"logoSearch",children:[Object(c.jsx)("span",{children:Object(c.jsx)("img",{src:f,className:"logoStyle",alt:"xyz"})}),Object(c.jsx)("span",{children:Object(c.jsx)(Q,{className:"search-input"})})]}),Object(c.jsx)("span",{className:"movieLogin",children:Object(c.jsxs)("nav",{children:[Object(c.jsx)(o.c,{className:"nav-tab",to:"/movies",children:"Movie"}),Object(c.jsx)(o.c,{className:"nav-tab",to:"/login",children:"Login"})]})})]}),Object(c.jsx)("div",{children:Object(c.jsx)(v,{})}),Object(c.jsx)("div",{children:Object(c.jsxs)(d.d,{children:[Object(c.jsx)(d.b,{path:"/topRatedMovie",render:function(e){return Object(c.jsx)(O,Object(j.a)(Object(j.a)({},e),{},{movieType:"top_rated",uid:l}))}}),Object(c.jsx)(d.b,{path:"/nowPlayingMovie",render:function(e){return Object(c.jsx)(O,Object(j.a)(Object(j.a)({},e),{},{movieType:"now_playing",uid:l}))}}),Object(c.jsx)(d.b,{path:"/upcomingMovie",render:function(e){return Object(c.jsx)(O,Object(j.a)(Object(j.a)({},e),{},{movieType:"upcoming",uid:l}))}}),Object(c.jsx)(d.b,{path:"/movies/:movieid",render:function(e){var t=e.match.params.movieid;return console.log(t),Object(c.jsx)(I,Object(j.a)(Object(j.a)({},e),{},{movieid:t,uid:l}))}}),Object(c.jsx)(d.b,{path:"/movies",render:function(e){return Object(c.jsx)(O,Object(j.a)(Object(j.a)({},e),{},{movieType:"popular",uid:l}))}}),Object(c.jsx)(d.b,{path:"/search/:query",render:function(e){var t=e.match.params.query;return Object(c.jsx)(B,Object(j.a)(Object(j.a)({},e),{},{query:t,uid:l}))}}),Object(c.jsx)(d.b,{path:"/login",render:function(e){return Object(c.jsx)(p,Object(j.a)(Object(j.a)({},e),{},{props:{onLogin:S,makeStatusLoggedIn:w}}))}}),Object(c.jsx)(d.a,{from:"/",exact:!0,to:"/movies",component:O}),Object(c.jsx)(d.a,{to:"/not-found"})]})})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),r(e),s(e)}))};a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(o.a,{children:Object(c.jsx)(S,{})})}),document.getElementById("root")),L()}},[[37,1,2]]]);
//# sourceMappingURL=main.2118fc48.chunk.js.map